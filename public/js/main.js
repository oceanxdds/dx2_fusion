(()=>{"use strict";var t,e={737:(t,e,s)=>{var i=s(931),l=s(990),o=s(851),a=s(247);i.default.use(a.Z);const n=new a.Z({locale:"ja",messages:{en:{message:{fusion:"Fusion",skill:"Skill",reverse:"Reverse",normal:"Normal",reverse_fusion:"Reverse Fusion",normal_fusion:"Normal Fusion",devil:"Demon",setting:"Setting",language:"Language",downgrade_fusion:"Downgrade Fusion",prevent_unload:"Prevent Unload",allow:"Allow",deny:"Deny",search:"Search",element:"Element",inherit:"Transfer",description:"Description",cost:"Cost",cost_others:"Cost(Others)",cost_pure:"Cost(Clear)",fusion_mag:"Fusion",fusion_mag_others:"Fusion(Others)",fusion_mag_pure:"Fusion(Clear)",possess:"Possess",common_skills:"Common Skills",desc:"Desc"},devil:{attack:"Attack",support:"Support",heal:"Heal"},archetype:{common:"Common",aragami:"Aragami",protector:"Protector",psychic:"Psychic",elementalist:"Elementalist"},element:{phys:"Phys",fire:"Fire",ice:"Ice",elec:"Elec",force:"Force",light:"Light",dark:"Dark",wk:"Wk",rs:"Rs",nu:"Nu",rp:"Rp",dr:"Dr"}},ja:{message:{fusion:"合体",skill:"スキル",reverse:"逆引き",normal:"通常",reverse_fusion:"逆引き合体",normal_fusion:"通常合体",devil:"仲魔",setting:"環境",language:"言語",downgrade_fusion:"ダウングレイド合体",prevent_unload:"アンロードを防止する",allow:"許可する",deny:"許可しない",search:"探す",element:"属性",inherit:"継承",description:"説明",cost:"コスト",cost_others:"コスト(他)",cost_pure:"コスト(素)",fusion_mag:"合体料",fusion_mag_others:"合体料(他)",fusion_mag_pure:"合体料(素)",possess:"持有",common_skills:"共通スキル",desc:"説明"},devil:{attack:"攻擊",support:"支援",heal:"回復"},archetype:{common:"素体",aragami:"荒神",protector:"加護",psychic:"異能",elementalist:"防魔"},element:{phys:"物",fire:"火",ice:"氷",elec:"電",force:"衝",light:"破",dark:"呪",wk:"弱",rs:"耐",nu:"無",rp:"反",dr:"吸"}},tw:{message:{fusion:"合體",skill:"技能",reverse:"逆向",normal:"順向",reverse_fusion:"逆向合體",normal_fusion:"順向合體",devil:"惡魔",setting:"設定",language:"語言",downgrade_fusion:"降階合體",prevent_unload:"防止換頁",allow:"允許",deny:"不允許",search:"查詢",element:"屬性",inherit:"繼承",description:"說明",cost:"成本",cost_others:"成本(他)",cost_pure:"成本(素)",fusion_mag:"合體費",fusion_mag_others:"合體費(他)",fusion_mag_pure:"合體費(素)",possess:"持有",common_skills:"共通技能",desc:"說明"},devil:{attack:"攻擊",support:"支援",heal:"回復"},archetype:{common:"素體",aragami:"荒神",protector:"加護",psychic:"異能",elementalist:"防魔"},element:{phys:"物",fire:"火",ice:"冰",elec:"電",force:"衝",light:"破",dark:"咒",wk:"弱",rs:"耐",nu:"無",rp:"反",dr:"吸"}}}});class r{constructor(t,e,s,i,l){let o=this;this.devil=t,this.parent=null,this.auto=!0,[e,s,i,l]=[e,s,i,l].map((t=>{let e=null;return t&&(e=new r(t),e.parent=o,"normal_fusion"!=t.source&&"multi_fusion"!=t.source&&(o.auto=!1)),e})),this.child1=e,this.child2=s,this.child3=i,this.child4=l,this.order=0,this.upgrade=!1,this.downgrade=!1,this.mag=0,this.mag_pure=0,this.collapse=!1,this.init()}set(t){t.child1.parent=this,t.child2.parent=this,t.child3&&(t.child3.parent=this),t.child4&&(t.child4.parent=this),this.auto=t.auto,this.child1=t.child1,this.child2=t.child2,this.child3=t.child3,this.child4=t.child4,this.order=t.order,this.upgrade=t.upgrade,this.downgrade=t.downgrade,this.mag=t.mag,this.mag_pure=t.mag_pure}unset(){this.child1=null,this.child2=null,this.child3=null,this.child4=null,this.auto=!0,this.order=0,this.upgrade=!1,this.downgrade=!1,this.mag=0,this.mag_pure=0}init(){if("multi_fusion"==this.devil.source&&this.child1){let t=this.devil;this.order=0,this.upgrade=!1,this.downgrade=!1,this.mag=t.fusionMag,this.mag_pure=t.fusionMag}else if(this.child1&&this.child2){let t=this.devil,e=this.child1.devil,s=this.child2.devil;this.order=e.rarity>s.rarity?10*e.rarity+s.rarity:10*s.rarity+e.rarity,this.upgrade=e.rarity<t.rarity&&s.rarity<t.rarity,this.downgrade=e.rarity>t.rarity||s.rarity>t.rarity;let i=(e.grade+s.grade)/2,l=0,o=0,a=2*t.rarity-e.rarity-s.rarity;l=[[5,5,5,5,5,5],[5,5,25,50,0,0],[250,500,2500,5e3,5200,5400],[0,6e3,15e4,3e5,32e4,0],[0,6e4,15e5,3e6,42e5,0]][t.rarity-1][a+1],o=[0,0,.3,.45,60,75,1080,1260,14400,16200][Math.floor(t.grade/10)];let n=l+(t.grade-i)*o;this.mag=Math.floor(n),5==t.rarity?this.mag_pure=Math.floor(.7*n):4==t.rarity?this.mag_pure=Math.floor(.5*n):this.mag_pure=this.mag,0==l&&(this.mag=0,this.mag_pure=0)}else this.order=0,this.upgrade=!1,this.downgrade=!1,this.mag=0,this.mag_pure=0}showMag(){return(this.mag/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}showMagPure(){return(this.mag_pure/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}caculate_mag(t){let e=this.mag,s=this.child1?this.child1.caculate_mag(t+1):0,i=this.child2?this.child2.caculate_mag(t+1):0,l=this.child3?this.child3.caculate_mag(t+1):0,o=this.child4?this.child4.caculate_mag(t+1):0;return"multi_fusion"==this.devil.source?e+=(this.child1?this.child1.caculate_mag_pure():0)+(this.child2?this.child2.caculate_mag_pure():0)+(this.child3?this.child3.caculate_mag_pure():0)+(this.child4?this.child4.caculate_mag_pure():0):e+=1==t?s>i?s+(this.child2?this.child2.caculate_mag_pure():0):(this.child1?this.child1.caculate_mag_pure():0)+i:s+i+l+o,e}caculate_mag_pure(){return this.mag_pure+(this.child1?this.child1.caculate_mag_pure():0)+(this.child2?this.child2.caculate_mag_pure():0)+(this.child3?this.child3.caculate_mag_pure():0)+(this.child4?this.child4.caculate_mag_pure():0)}showTotalMag(){return(this.caculate_mag(1)/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}showTotalMagPure(){return(this.caculate_mag_pure()/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCost(t){let e=this.child1?this.child1.devil:null,s=this.child2?this.child2.devil:null,i=this.child3?this.child3.devil:null,l=this.child4?this.child4.devil:null,o=e?e.pure_costs[t]:null,a=e?e.costs[t]:null,n=s?s.pure_costs[t]:null,r=s?s.costs[t]:null,c=i?i.pure_costs[t]:null,u=l?l.pure_costs[t]:null;if("multi_fusion"==this.devil.source)return null==o||null==n||i&&null==c||l&&null==u?null:this.mag+(e?o:0)+(s?n:0)+(i?c:0)+(l?u:0);if(null==o||null==a||null==n||null==r)return null;e.rarity<=t&&(o=0,a=0),s.rarity<=t&&(n=0,r=0);let d=a+n,_=o+r;return(d>_?_:d)+this.mag}getCostPure(t){let e=this.child1?this.child1.devil:null,s=this.child2?this.child2.devil:null,i=this.child3?this.child3.devil:null,l=this.child4?this.child4.devil:null,o=e?e.pure_costs[t]:null,a=s?s.pure_costs[t]:null,n=i?i.pure_costs[t]:null,r=l?l.pure_costs[t]:null;return e&&null==o||s&&null==a||i&&null==n||l&&null==r?null:"multi_fusion"==this.devil.source?this.mag_pure+(e?o:0)+(s?a:0)+(i?n:0)+(l?r:0):(e.rarity>t?o:0)+(s.rarity>t?a:0)+this.mag_pure}isFirstBom(t){return this.child1==t}isLastBom(t){return this.child4?this.child4==t:this.child3?this.child3==t:this.child2?this.child2==t:this.child1?this.child1==t:void 0}static bom(t,e,s,i,l){if("multi_fusion"==t.source)return new r(t,e,s,i,l);let o=(e.grade+s.grade)/2;return t.min<=o&&o<t.max?new r(t,e,s):null}}const c=r,u=class{constructor(t){this.name=t.name,this.names=t.names,this.descs=t.descs,this.mp=null==t.mp?"":t.mp,this.point=null==t.point?"":t.point,this.element=null==t.element?"":t.element,this.type=null,this.devils=[]}showName(){return this.names?this.names[n.locale]||this.names[n.defaultLocale]:""}showDesc(){return this.descs?this.descs[n.locale]||this.descs[n.defaultLocale]:""}showHint(){return this.name?"["+n.t("message.element")+"] : "+(this.type?this.type.showName():"")+(this.mp?" [MP] : "+this.mp:"")+(this.point?" ["+n.t("message.inherit")+"] : "+this.point:"")+" ["+n.t("message.desc")+"] : "+this.showDesc():""}addDevil(t){let e=this.devils.filter((e=>e.name==t.name));return 0==e.length&&this.devils.push(t),this}};var d=s(504),_=s(763);i.default.use(o.ZP);const h={builder_options:[],fusion_options:[]},m=new class{constructor(t,e){this.races=[],this.devils=[],this.skillTypes=[],this.skills=[];let s={},i={},l=[],o={},a={};t=t.map((t=>(t.devils=t.devils.map((t=>i[t.name]=new class{constructor(t){this.name=t.name,this.names=t.names,this.rarity=t.rarity,this.grade=t.grade,this.icon=t.icon,this.elements=t.elements,this.skills=t.skills,this.skill4=t.skill4,this.skill5=t.skill5,this.type=t.type,this.max=null,this.min=null,this.race=null,this.cost=null,this.cost_pure=null,this.costs=[null,null,null,null,null,null],this.pure_costs=[null,null,null,null,null,null],this.fusion=t.fusion,this.fusionAsMaterial=t.fusionAsMaterial,this.fusionMag=t.fusionMag,this.source=t.source,this.formula=t.formula}showName(){return this.names?this.names[n.locale]||this.names[n.defaultLocale]:""}showGrade(){return"G."+this.grade}showRarity(){return"★".repeat(this.rarity)}showCost(t){return(this.cost/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}showCostPure(t){return(this.cost_pure/1).toFixed(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}bom(){return new c(this)}fission_formulas(){let t=this,e=[];if("multi_fusion"==t.source){let e=t.formula[0],s=t.formula[1],i=t.formula[2],l=t.formula[3],o={ja:"多身合体",tw:"多身合體",en:"Multi Fusion"};return[{name:o[n.locale]||o[defaultLocale],boms:[new c(t,e,s,i,l)]}]}return t.race.fusion&&t.fusion?(e=t.race.formulas.map((e=>{let[s,i]=[e[0],e[1]];if(!s.fusion||!i.fusion)return null;let l=s.devils.flatMap((e=>e.fusionAsMaterial?i.devils.map((s=>s.fusionAsMaterial?c.bom(t,e,s):null)):null)).filter((t=>t));return l.length>0?{name:s.showName()+" x "+i.showName(),boms:l.sort(((t,e)=>t.order-e.order))}:null})).filter((t=>t)),e):e}fusion_formulas(){let t=this,e=[];return t.race.fusion&&t.fusionAsMaterial?(t.race.usage.forEach((s=>{s.r0.fusion&&s.r0.devils.forEach((i=>{if(!i.fusion)return;if("multi_fusion"==i.source)return;let l=s.r2s.map((e=>{if(!e.fusion)return null;let s=e.devils.map((e=>{let s=null;return e.fusionAsMaterial&&(s=c.bom(i,t,e)),s})).filter((t=>t));return s.length>0?{name:t.race.showName()+" x "+e.showName(),boms:s.sort(((t,e)=>t.order-e.order))}:null})).filter((t=>t));l.length>0&&e.push({devil:i,formulas:l})}))})),e):e}}(t))),s[t.name]=new class{constructor(t){this.name=t.name,this.names=t.names,this.highlight=t.highlight,this.formulas=t.formulas,this.devils=t.devils,this.fusion=t.fusion}showName(){return this.names?this.names[n.locale]||this.names[n.defaultLocale]:""}}(t)))),e=e.map((t=>((t=new class{constructor(t){this.name=t.name,this.names=t.names,this.skills=t.skills}showName(){return this.names?this.names[n.locale]||this.names[n.defaultLocale]:""}}(t)).skills=t.skills.map((e=>((e=new u(e)).type=t,a[e.name]=e))),o[t.name]=t))),t.forEach((t=>{t.formulas.forEach((t=>{t[0]=s[t[0]],t[1]=s[t[1]]})),t.devils.forEach((e=>{e.race=t,"multi_fusion"==e.source&&(e.formula=e.formula.map((t=>i[t]))),[e.skills,e.skill4,e.skill5]=[e.skills,e.skill4,e.skill5].map((t=>t.map((t=>a[t]?a[t].addDevil(e):new u({name:t})))))}));let e=t.devils.filter((t=>t.fusion&&"normal_fusion"==t.source));e.forEach(((t,s)=>{t.max=t.grade,t.min=s==e.length-1?0:e[s+1].grade}))})),t.forEach((e=>{let i={};t.forEach((t=>{t.formulas.forEach((s=>{let l=s[0].name==e.name?s[1]:s[1].name==e.name?s[0]:null;l&&(i[t.name]=t.name in i?i[t.name].concat(l):[l])}))})),e.usage=[],Object.keys(i).forEach((t=>{e.usage.push({r0:s[t],r2s:i[t]})}))})),l=Object.values(i).sort(((t,e)=>t.grade-e.grad2)),l.forEach((t=>{t.fission_options=t.fission_formulas(),t.fission_boms=t.fission_options.flatMap((t=>t.boms))}));let r=10,d=!1;for(;r-- >0&&!d;)d=!0,l.forEach((t=>{let e=!0;for(let s=1;s<=5;s++){let i=null,l=null;t.fission_boms.length?(t.fission_boms.forEach((t=>{if(!t.auto)return;let o=t.getCostPure(s);null==o?e=!1:l=null==l||l>o?o:l;let a=t.getCost(s);null==a?e=!1:i=null==i||i>a?a:i})),t.rarity>s?(null!=l&&t.pure_costs[s]!=l&&(t.pure_costs[s]=l,e=!1),null!=i&&t.costs[s]!=i&&(t.costs[s]=i,e=!1)):(t.pure_costs[s]=0,t.costs[s]=0)):(t.pure_costs[s]=0,t.costs[s]=0)}e||(d=!1)}));this.races=t,this.race_data=s,this.devils=l,this.devil_data=i,this.skillTypes=e,this.skill_data=a,this.skills=Object.values(a)}}(d.Z,_.Z),v=new o.ZP.Store({state:{current_bom:0,info_devil:0,builder_target:0,builder_options:0,fusion_target:0,fusion_options:0},getters:{resource:()=>m,races:()=>m.races,devils:()=>m.devils,skills:()=>m.skills,skillTypes:()=>m.skillTypes,current_bom:t=>(t.current_bom,h.current_bom),info_devil:t=>(t.info_devil,h.info_devil),builder_target:t=>(t.builder_target,h.builder_target),builder_options:t=>(t.builder_options,h.builder_options),fusion_target:t=>(t.fusion_target,h.fusion_target),fusion_options:t=>(t.fusion_options,h.fusion_options)},mutations:{current_bom:(t,e)=>{t.current_bom++,h.current_bom=e},info_devil:(t,e)=>{t.info_devil++,h.info_devil=e},builder_target:(t,e)=>{t.builder_target++,h.builder_target=e},builder_options:(t,e)=>{t.builder_options++,h.builder_options=e},fusion_target:(t,e)=>{t.fusion_target++,h.fusion_target=e},fusion_options:(t,e)=>{t.fusion_options++,h.fusion_options=e}}}),f=function(t){let e={};return t.forEach((t=>{void 0!==v._mutations[t]?e[t]={get:function(){return this.$store.getters[t]},set:function(e){this.$store.commit(t,e)}}:e[t]={get:function(){return this.$store.getters[t]}}})),e},p=v;var b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[s("div",{staticClass:"container-xxl"},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),s("b-navbar-brand",{staticClass:"d-none d-md-block",attrs:{href:"#"},on:{click:function(e){return t.route("home")}}},[t._v("Dx2")]),t._v(" "),s("b-navbar-brand",{staticClass:"d-block d-md-none",attrs:{href:"#"},on:{click:function(e){t.searchBar=!t.searchBar}}},[t._v(t._s(t.$t("message.search")))]),t._v(" "),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{href:"#",active:t.isRoute("fusion.devil")},on:{click:function(e){return t.route("fusion.devil")}}},[t._v(t._s(t.$t("message.devil")))]),t._v(" "),s("b-nav-item",{attrs:{href:"#",active:t.isRoute("fusion.fission")},on:{click:function(e){return t.route("fusion.fission")}}},[t._v(t._s(t.$t("message.reverse_fusion")))]),t._v(" "),s("b-nav-item",{attrs:{href:"#",active:t.isRoute("fusion.fusion")},on:{click:function(e){return t.route("fusion.fusion")}}},[t._v(t._s(t.$t("message.normal_fusion")))]),t._v(" "),s("b-nav-item",{attrs:{href:"#",active:t.isRoute("skill")},on:{click:function(e){return t.route("skill")}}},[t._v(t._s(t.$t("message.skill")))])],1),t._v(" "),s("b-navbar-nav",{staticClass:"ms-auto"},[s("b-nav-form",{staticClass:"d-none d-md-block",attrs:{action:"#"}},[s("b-form-input",{attrs:{type:"text",placeholder:t.$t("message.search")},on:{focus:function(e){return t.searchFocus()},blur:function(e){return t.searchBlur()}},model:{value:t.input_keyword,callback:function(e){t.input_keyword=e},expression:"input_keyword"}})],1),t._v(" "),s("b-nav-item",{attrs:{href:"#",active:t.isRoute("setting")},on:{click:function(e){return t.route("setting")}}},[t._v(t._s(t.$t("message.setting")))])],1)],1)],1)]),t._v(" "),s("div",{staticClass:"container-xxl px-0"},[s("b-tabs",{attrs:{"nav-wrapper-class":"d-none"},model:{value:t.index_main,callback:function(e){t.index_main=e},expression:"index_main"}},[t.searchBar?s("div",{staticClass:"d-block d-md-none p-2 bg-info"},[s("b-form-input",{attrs:{type:"text",placeholder:t.$t("message.search")},on:{focus:function(e){return t.searchFocus()},blur:function(e){return t.searchBlur()}},model:{value:t.input_keyword,callback:function(e){t.input_keyword=e},expression:"input_keyword"}})],1):t._e(),t._v(" "),s("b-tab",{attrs:{"no-body":""}},[s("b-card",{staticClass:"border-0",attrs:{"no-body":""}},[s("b-tabs",{attrs:{card:"","nav-wrapper-class":"d-block d-md-none","content-class":"p-2"},model:{value:t.index_fusion,callback:function(e){t.index_fusion=e},expression:"index_fusion"}},[s("b-tab",{attrs:{title:t.$t("message.devil"),"no-body":""}},[s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{pills:"",card:"","content-class":"d-none"},model:{value:t.race_id,callback:function(e){t.race_id=e},expression:"race_id"}},t._l(t.races,(function(e,i){return s("b-tab",{key:i,scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{style:{"text-decoration":e.highlight?"underline":"none"}},[t._v(t._s(e.showName())+" ")])]},proxy:!0}],null,!0)})})),1),t._v(" "),s("devil-list",{attrs:{devils:t.devils_by_race,usage:"fission"},on:{listen:t.listen}})],1)],1),t._v(" "),s("b-tab",{attrs:{title:t.$t("message.reverse"),"no-body":""}},[t.builder_target?s("b-card",{attrs:{"no-body":""}},[s("b-list-group",{attrs:{flush:""}},[s("b-list-group-item",{staticClass:"p-2"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-auto"},[s("h5",[s("b-badge",{attrs:{variant:"secondary"}},[t._v(" Total MAG ")]),t._v(" "+t._s(t.builder_target.showTotalMagPure())+" ~ "+t._s(t.builder_target.showTotalMag())+" ")],1)]),t._v(" "),s("div",{staticClass:"col-12 col-md-auto"},[t.builder_target&&t.builder_target.devil&&t.builder_target.devil.rarity>4?s("b-button",{staticClass:"m-1",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.builder_auto_costdown(4,0)}}},[t._v("素★4")]):t._e(),t._v(" "),t.builder_target&&t.builder_target.devil&&t.builder_target.devil.rarity>3?s("b-button",{staticClass:"m-1",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.builder_auto_costdown(3,0)}}},[t._v("素★3")]):t._e(),t._v(" "),t.builder_target&&t.builder_target.devil&&t.builder_target.devil.rarity>2?s("b-button",{staticClass:"m-1",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.builder_auto_costdown(2,0)}}},[t._v("素★2")]):t._e(),t._v(" "),t.builder_target&&t.builder_target.devil&&t.builder_target.devil.rarity>1?s("b-button",{staticClass:"m-1",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.builder_auto_costdown(1,0)}}},[t._v("素★1")]):t._e()],1)])]),t._v(" "),s("b-list-group-item",{staticClass:"p-2"},[s("devil-bom-builder",{attrs:{bom:t.builder_target,parent_bom:null,usage:"builder",source:""},on:{listen:t.listen}})],1),t._v(" "),t.builder_options.length?s("b-list-group-item",{staticClass:"p-0"},[s("div",{staticClass:"row g-1 justify-content-center"},t._l(t.builder_rarity_options.filter((function(t){return t.active})),(function(e,i){return s("div",{key:i,staticClass:"col-auto p-1"},[s("b-button",{attrs:{pressed:e.state,variant:"outline-secondary"},on:{click:function(s){return t.builder_rarity_option_click(e)}}},[t._v("\r\n                                                    "+t._s(e.text)+"\r\n                                                ")])],1)})),0)]):t._e(),t._v(" "),t.filtered_builder_options.length>0?s("b-list-group-item",{staticClass:"p-0"},[s("devil-bom-options",{attrs:{options:t.filtered_builder_options,usage:"builder"},on:{listen:t.listen}})],1):t._e()],1)],1):t._e()],1),t._v(" "),s("b-tab",{attrs:{title:t.$t("message.normal"),"no-body":""}},[t.fusion_target?s("b-card",{attrs:{"no-body":""}},[s("b-list-group",{attrs:{flush:""}},[t.fusion_options.length?s("b-list-group-item",{staticClass:"p-2"},[s("div",{staticClass:"row g-1 justify-content-center"},t._l(t.fusion_rarity_options.filter((function(t){return t.active})),(function(e,i){return s("div",{key:i,staticClass:"col-auto p-1"},[s("b-button",{attrs:{pressed:e.state,variant:"outline-secondary"},on:{click:function(s){return t.fusion_rarity_option_click(e)}}},[t._v("\r\n                                                    "+t._s(e.text)+"\r\n                                                ")])],1)})),0)]):t._e(),t._v(" "),t.filtered_fusion_options.length?s("b-list-group-item",{staticClass:"p-2"},[s("div",{staticClass:"row g-1"},t._l(t.filtered_fusion_options,(function(e,i){return s("div",{key:i,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3"},[s("div",{staticClass:"row g-1"},[s("div",{staticClass:"col-12 p-2"},[s("devil",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"fusion_"+i,expression:"'fusion_'+index"}],staticStyle:{cursor:"pointer"},attrs:{devil:e.devil,usage:"fusion"},on:{listen:t.listen}})],1)]),t._v(" "),s("b-collapse",{staticClass:"p-2",attrs:{id:"fusion_"+i,accordion:"fusion_accrodion"}},[s("b-card",{staticStyle:{"background-color":"#eee"},attrs:{"no-body":""}},[s("devil-bom-options",{attrs:{options:e.formulas,usage:"fusion"},on:{listen:t.listen}})],1)],1)],1)})),0)]):t._e()],1)],1):t._e()],1)],1)],1)],1),t._v(" "),s("b-tab",{staticClass:"p-2",attrs:{"no-body":""}},[s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{pills:"",card:"","content-class":"d-none"},model:{value:t.skillType_id,callback:function(e){t.skillType_id=e},expression:"skillType_id"}},t._l(t.skillTypes,(function(t,e){return s("b-tab",{key:e,attrs:{title:t.showName()}})})),1),t._v(" "),s("skill-list",{attrs:{skills:t.skills_by_type},on:{listen:t.listen}})],1)],1),t._v(" "),s("b-tab",{staticClass:"p-2",attrs:{"no-body":""}}),t._v(" "),s("b-tab",{staticClass:"p-2",attrs:{"no-body":""}},[t.filtered_devils.length>0?s("b-card",{staticClass:"mt-2",attrs:{"no-body":""}},[s("devil-list",{attrs:{devils:t.filtered_devils,usage:"fission"},on:{listen:t.listen}})],1):t._e(),t._v(" "),t.filtered_skills.length>0?s("b-card",{staticClass:"mt-2",attrs:{"no-body":""}},[s("skill-list",{attrs:{skills:t.filtered_skills},on:{listen:t.listen}})],1):t._e()],1),t._v(" "),s("b-tab",{staticClass:"p-2",attrs:{"no-body":""}},[s("div",{staticClass:"row g-1",staticStyle:{background:"url('public/images/theme/steven.png') no-repeat right center","background-size":"auto 300px"}},[s("div",{staticClass:"col-12 py-2"},[s("div",{staticClass:"fw-bold py-2"},[t._v(t._s(t.$t("message.language")))]),t._v(" "),s("div",[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-info",options:t.lang_options},model:{value:t.lang_value,callback:function(e){t.lang_value=e},expression:"lang_value"}})],1)]),t._v(" "),s("div",{staticClass:"col-12 py-2"},[s("div",{staticClass:"fw-bold py-2"},[t._v(t._s(t.$t("message.downgrade_fusion")))]),t._v(" "),s("div",[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-info"},model:{value:t.down_grade,callback:function(e){t.down_grade=e},expression:"down_grade"}},t._l(t.down_grade_options,(function(e,i){return s("b-form-radio",{key:i,attrs:{value:e.value}},[t._v("\r\n                                    "+t._s(t.$t(e.text))+"\r\n                                ")])})),1)],1)]),t._v(" "),s("div",{staticClass:"col-12 py-2"},[s("div",{staticClass:"fw-bold py-2"},[t._v(t._s(t.$t("message.prevent_unload")))]),t._v(" "),s("div",[s("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-info"},model:{value:t.prevent_unload,callback:function(e){t.prevent_unload=e},expression:"prevent_unload"}},t._l(t.prevent_unload_options,(function(e,i){return s("b-form-radio",{key:i,attrs:{value:e.value}},[t._v("\r\n                                    "+t._s(t.$t(e.text))+"\r\n                                ")])})),1)],1)]),t._v(" "),s("div",{staticClass:"col-12 py-2"},[s("div",{staticClass:"p-1 border rounded text-center",staticStyle:{"background-color":"rgba(200, 200, 200, 0.5)"}},[s("div",{staticClass:"small"},[t._v("\r\n                            君は私が作った悪魔召喚プログラムを使ってるね"),s("br"),t._v("\r\n                            もし君が秩序にも混沌にも偏らず"),s("br"),t._v("\r\n                            中庸の道を往くのなら"),s("br"),t._v("\r\n                            私が僅かばかりだが協力してあげよう"),s("br"),s("br"),t._v("\r\n                            人間が持つ価値を　可能性を　私に証明してくれ"),s("br"),s("br"),t._v("\r\n                            スティーヴン・ホーキング (1942-2018)\r\n                            ")])])])])])],1)],1),t._v(" "),s("div",{staticClass:"container-xxl"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"me-1 flex-grow-1"},t._l(t.orbs.filter((function(t){return t.state})),(function(t,e){return s("img",{key:e,staticStyle:{width:"30px"},attrs:{src:t.icon}})})),0),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"container-xxl mb-3"},[s("div",{staticClass:"d-flex justify-content-end"},[s("div",{staticClass:"p-1"},[s("span",{staticClass:"small"},[t._v("Version: "+t._s(t.updated_at))])])])]),t._v(" "),s("devil-info",{attrs:{id:t.modal_id}})],1)};b._withStripped=!0;const g=new class{constructor(){this.one_year=31536e6}setCookie(t,e){let s=new Date;s.setTime(s.getTime()+this.one_year),document.cookie=t+"="+escape(e)+";expires="+s.toGMTString()}getCookie(t){let e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null}};var k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"border-secondary",attrs:{"no-body":""}},[s("b-card-body",{staticClass:"p-0",on:{click:t.click}},["builder"!=t.usage||"multi_fusion"!=t.source?s("div",{staticClass:"p-2",staticStyle:{"background-position":"right","background-repeat":"no-repeat","background-size":"contain"},style:{backgroundImage:"url('public/images/devil/"+t.devil.icon+"')",cursor:"fission"==t.usage||"builder"==t.usage?"pointer":""}},[s("div",{staticClass:"fw-bold text_shadow"},[t._v("\n                "+t._s("fusion"==t.usage||"fission"==t.usage||"info"==t.usage||"skill"==t.usage?t.devil.race.showName():"")+" "+t._s(t.devil.showName())+"\n            ")]),t._v(" "),s("div",{staticClass:"small"},[s("span",{staticClass:"text_shadow"},[t._v(t._s(t.devil.showGrade())+" "+t._s(t.devil.showRarity()))]),t._v(" "),"info"==t.usage?s("span",{staticClass:"ms-2"},[t._v("AI: "+t._s(t.$t("devil."+t.devil.type)))]):t._e(),t._v(" "),"fusion"==t.usage||"skill"==t.usage?s("b-button",{staticClass:"fw-bold small py-0",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info()}}},[t._v("⚝")]):t._e(),t._v(" "),"skill"==t.usage?s("span",[t.isSkillAvailable(0)?s("b-badge",{staticClass:"ms-2",attrs:{variant:"success"}},[t._v(t._s(t.$t("message.possess")))]):t._e(),t._v(" "),t.isSkillAvailable(1)?s("b-badge",{staticClass:"ms-2",attrs:{variant:"warning"}},[t._v(t._s(t.$t("message.inherit")))]):t._e()],1):t._e()],1)]):t._e(),t._v(" "),"builder"==t.usage&&"multi_fusion"==t.source?s("div",{staticClass:"p-1",staticStyle:{"background-position":"right","background-repeat":"no-repeat","background-size":"contain"},style:{backgroundImage:"url('public/images/devil/"+t.devil.icon+"')",cursor:"fission"==t.usage||"builder"==t.usage?"pointer":""}},[s("div",{staticClass:"small"},[t._v("\n                "+t._s(t.devil.grade)+"\n            ")]),t._v(" "),s("div",{staticClass:"small",staticStyle:{"writing-mode":"vertical-rl","text-orientation":"upright"}},[t._v("\n                ★"+t._s(t.devil.rarity)+"\n            ")])]):t._e()]),t._v(" "),"fission"==t.usage?s("b-card-footer",{staticClass:"p-1"},[t._t("default"),t._v(" "),s("b-button",{staticClass:"fw-bold small",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info()}}},[t._v("⚝")])],2):t._e()],1)};k._withStripped=!0;var y=s(900),w=(0,y.Z)({name:"devil",props:["devil","usage","skill","source"],methods:{listen:function(t){this.$emit("listen",t)},click:function(){"fission"==this.usage&&this.devil.fusion&&this.listen({name:"start_bom",value:this.devil}),"builder"==this.usage&&this.devil.fusion&&this.listen({name:"list_bom",value:null})},info:function(){this.listen({name:"info",value:this.devil})},isSkillAvailable:function(t){return t?this.skill==this.devil.skills[0]||this.devil.skill5.indexOf(this.skill)>=0:this.skill==this.devil.skills[1]||this.skill==this.devil.skills[2]||this.devil.skill4.indexOf(this.skill)>=0}}},k,[],!1,null,null,null);w.options.__file="src/js/components/devil.vue";const C=w.exports;var x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row g-1"},t._l(t.skills,(function(e,i){return s("div",{key:i,staticClass:"col-12",class:{"col-md-6":!t.actives[i],"col-lg-4":!t.actives[i],"col-xl-3":!t.actives[i]}},[s("div",{staticClass:"row g-1"},[s("div",{staticClass:"col-12 p-2",class:{"col-md-6":t.actives[i],"col-lg-4":t.actives[i],"col-xl-3":t.actives[i]}},[s("skill",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"skill_"+i,expression:"'skill_'+index"}],staticStyle:{cursor:"pointer"},attrs:{skill:e}})],1)]),t._v(" "),s("b-collapse",{staticClass:"px-2",attrs:{id:"skill_"+i,accordion:"skill_accrodion"},model:{value:t.actives[i],callback:function(e){t.$set(t.actives,i,e)},expression:"actives[index]"}},[s("b-card",{attrs:{"no-body":""}},[s("div",{staticClass:"row g-1"},t._l(e.devils,(function(l,o){return s("div",{key:o,staticClass:"col-12 p-2",class:{"col-md-6":t.actives[i],"col-lg-4":t.actives[i],"col-xl-3":t.actives[i]}},[s("devil",{attrs:{devil:l,usage:"skill",skill:e},on:{listen:t.listen}})],1)})),0)])],1)],1)})),0)};x._withStripped=!0;var $=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"border-secondary",attrs:{"no-body":""}},[s("b-card-body",{staticClass:"p-2"},[s("div",{staticClass:"fw-bold"},[t._v("\n            "+t._s(t.skill.showName())+"\n        ")]),t._v(" "),s("div",{staticClass:"small"},[t._v("\n            ["+t._s(t.$t("message.element"))+"] : "+t._s(t.skill.type.showName())+" \n            "+t._s(t.skill.mp?" [MP] : "+t.skill.mp:"")+" \n            "+t._s(t.skill.point?" ["+t.$t("message.inherit")+"] : "+t.skill.point:"")+"\n        ")])]),t._v(" "),s("b-card-footer",{staticClass:"p-2"},[s("div",{staticClass:"small"},[t._v(t._s(t.skill.showDesc()))])])],1)};$._withStripped=!0;var E=(0,y.Z)({props:["skill"],data:function(){return{}}},$,[],!1,null,null,null);E.options.__file="src/js/components/skill.vue";const S={components:{skill:E.exports,devil:C},props:["skills"],data:function(){return{actives:[]}},watch:{skills:function(){this.actives=[]}},methods:{listen:function(t){this.$emit("listen",t)}}};var j=(0,y.Z)(S,x,[],!1,null,null,null);j.options.__file="src/js/components/skill_list.vue";const M=j.exports;var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row g-1"},t._l(t.devils,(function(e,i){return s("div",{key:i,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3 p-2"},[s("devil",{attrs:{devil:e,usage:t.usage,skill:t.skill},on:{listen:t.listen}},[e.fusionAsMaterial?s("b-button",{staticClass:"fw-bold small",attrs:{variant:"secondary",size:"sm"},on:{click:function(s){return t.fusion(e)}}},[t._v(t._s(t.$t("message.normal_fusion")))]):t._e(),t._v(" "),e.fusion?s("b-button",{staticClass:"fw-bold small",attrs:{variant:"warning",size:"sm"},on:{click:function(s){return t.start_bom(e)}}},[t._v(t._s(t.$t("message.reverse_fusion")))]):t._e()],1)],1)})),0)};P._withStripped=!0;const T={components:{devil:C},props:["devils","usage","skill"],methods:{listen:function(t){this.$emit("listen",t)},fusion:function(t){this.listen({name:"fusion",value:t})},start_bom:function(t){this.listen({name:"start_bom",value:t})}}},N=T;var O=(0,y.Z)(N,P,[],!1,null,null,null);O.options.__file="src/js/components/devil_list.vue";const z=O.exports;var F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.bom?s("div",[s("div",{staticClass:"row g-1 justify-content-md-center pt-1"},[s("div",{staticClass:"col-auto col-md align-self-center pe-md-1"},[t.bom.parent&&!t.bom.parent.isFirstBom(t.bom)?s("hr"):t._e()]),t._v(" "),s("div",{staticClass:"col-auto item"},[s("devil",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.bom.devil.race.showName()+" "+t.bom.devil.showName()+"\n"+t.$t("message.fusion_mag_others")+": "+t.bom.showMag()+"\n"+t.$t("message.fusion_mag_pure")+": "+t.bom.showMagPure(),expression:"bom.devil.race.showName()+' '+bom.devil.showName()+'\\n'+$t('message.fusion_mag_others')+': '+bom.showMag()+'\\n'+$t('message.fusion_mag_pure')+': '+bom.showMagPure()",modifiers:{hover:!0,top:!0}}],class:{"bg-warning":t.isCurrent(),"text-primary":t.isParentCurrent()},style:{"min-width":"multi_fusion"==t.source?"60px":"130px"},attrs:{devil:t.bom.devil,usage:"builder",source:t.source},on:{listen:t.listen}})],1),t._v(" "),s("div",{staticClass:"col-auto col-md align-self-center ps-1"},[s("div",{staticClass:"row g-1"},[t.isCurrent()?s("div",{staticClass:"col-auto pe-1"},[s("b-button",{staticClass:"fw-bold",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info()}}},[t._v("⚝")])],1):t._e(),t._v(" "),t.isResettable()?s("div",{staticClass:"col-auto"},[s("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.reset_bom()}}},[t._v("✕")])],1):t._e(),t._v(" "),t.isCurrent()||!t.bom.child1&&!t.bom.child2?t._e():s("div",{staticClass:"col-auto"},[s("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.toggle()}}},[t._v(t._s(t.collapsed_sign))])],1),t._v(" "),s("div",{staticClass:"col align-self-center"},[t.bom.parent&&!t.bom.parent.isLastBom(t.bom)?s("hr"):t._e()])])])]),t._v(" "),t.collapsed?t._e():s("div",{staticClass:"row g-1 justify-content-md-center"},[t.bom.child1?s("div",{staticClass:"col-12 col-md-auto ps-3 ps-md-0 border-left-md-none"},[s("devil-bom-builder",{attrs:{bom:t.bom.child1,parent_bom:t.bom,source:"multi_fusion"==t.source||"multi_fusion"==t.bom.devil.source?"multi_fusion":""},on:{listen:t.listen}})],1):t._e(),t._v(" "),t.bom.child2?s("div",{staticClass:"col-12 col-md-auto ps-3 ps-md-0 border-left-md-none"},[s("devil-bom-builder",{attrs:{bom:t.bom.child2,parent_bom:t.bom,source:"multi_fusion"==t.source||"multi_fusion"==t.bom.devil.source?"multi_fusion":""},on:{listen:t.listen}})],1):t._e(),t._v(" "),t.bom.child3?s("div",{staticClass:"col-12 col-md-auto ps-3 ps-md-0 border-left-md-none"},[s("devil-bom-builder",{attrs:{bom:t.bom.child3,parent_bom:t.bom,source:"multi_fusion"==t.source||"multi_fusion"==t.bom.devil.source?"multi_fusion":""},on:{listen:t.listen}})],1):t._e(),t._v(" "),t.bom.child4?s("div",{staticClass:"col-12 col-md-auto ps-3 ps-md-0 border-left-md-none"},[s("devil-bom-builder",{attrs:{bom:t.bom.child4,parent_bom:t.bom,source:"multi_fusion"==t.source||"multi_fusion"==t.bom.devil.source?"multi_fusion":""},on:{listen:t.listen}})],1):t._e()])]):t._e()};F._withStripped=!0;const R={name:"devil-bom-builder",components:{devil:C},props:["bom","parent_bom","source"],data:function(){return{collapsed:!1}},methods:{listen:function(t){"list_bom"==t.name&&null==t.value&&(t.value=this.bom),this.$emit("listen",t)},reset_bom:function(){this.listen({name:"reset_bom",value:this.bom})},info:function(){this.listen({name:"info",value:this.bom.devil})},toggle:function(){this.collapsed=!this.collapsed},hasChild:function(){return this.bom.child1||this.bom.child2},isCurrent:function(){return!!this.bom&&this.bom==this.current_bom},isParentCurrent:function(){return!!this.parent_bom&&this.parent_bom==this.current_bom},isResettable:function(){return(this.bom.child1||this.bom.child2)&&!!this.bom&&this.bom==this.current_bom}},computed:{collapsed_sign:function(){return this.collapsed?"+":"-"},...(0,o.Se)(["current_bom"])}};var B=(0,y.Z)(R,F,[],!1,null,null,null);B.options.__file="src/js/components/devil_bom_builder.vue";const D=B.exports;var Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.options,(function(e,i){return s("div",{key:i},[s("div",{staticClass:"row g-1"},[s("div",{staticClass:"col-12 p-2"},[s("h6",{staticClass:"m-0"},[t._v(t._s(e.name))])])]),t._v(" "),s("devil-bom-list",{attrs:{boms:e.boms,usage:t.usage},on:{listen:t.listen}})],1)})),0)};Z._withStripped=!0;var A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row g-1"},t._l(t.boms,(function(e,i){return s("div",{key:i,staticClass:"col-12 p-2",class:{"col-md-6 col-lg-4 col-xl-3":"fusion"!=t.usage}},[s("devil-bom",{attrs:{bom:e,usage:t.usage},on:{listen:t.listen}})],1)})),0)};A._withStripped=!0;var L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.bom?s("b-card",{class:{"border-primary":t.bom.upgrade,"border-danger":t.bom.downgrade,"border-dark":!(t.bom.upgrade||t.bom.downgrade)},attrs:{"no-body":""},on:{click:function(e){return t.click()}}},[s("div",{staticClass:"row g-1"},t._l([t.bom.child1.devil,t.bom.child2.devil],(function(e,i){return s("div",{key:i,staticClass:"col-6 p-2",class:{"text-primary":t.bom.upgrade,"text-danger":t.bom.downgrade},staticStyle:{"background-position":"right","background-repeat":"no-repeat","background-size":"contain"},style:{backgroundImage:"url('public/images/devil/"+e.icon+"')",cursor:"builder"==t.usage?"pointer":""}},[s("div",{staticClass:"fw-bold text_shadow"},[t._v(t._s(e.showName()))]),t._v(" "),s("div",{staticClass:"small"},[t._v(t._s(e.showGrade())+" "+t._s(e.showRarity()))])])})),0),t._v(" "),s("div",{staticClass:"row g-1"},t._l([t.bom.child3?t.bom.child3.devil:null,t.bom.child4?t.bom.child4.devil:null],(function(e,i){return s("div",{key:i,staticClass:"col-6"},[e?s("div",{staticClass:"p-2",class:{"text-primary":t.bom.upgrade,"text-danger":t.bom.downgrade},staticStyle:{"background-position":"right","background-repeat":"no-repeat","background-size":"contain"},style:{backgroundImage:"url('public/images/devil/"+e.icon+"')",cursor:"builder"==t.usage?"pointer":""}},[s("div",{staticClass:"fw-bold text_shadow"},[t._v(t._s(e.showName()))]),t._v(" "),s("div",{staticClass:"small"},[t._v(t._s(e.showGrade())+" "+t._s(e.showRarity()))])]):t._e()])})),0),t._v(" "),s("b-card-footer",{staticClass:"p-1 text-right"},[t.bom.child1?s("b-button",{staticClass:"fw-bold small py-0",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info(t.bom.child1.devil)}}},[t._v("⚝")]):t._e(),t._v(" "),t.bom.child2?s("b-button",{staticClass:"fw-bold small py-0",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info(t.bom.child2.devil)}}},[t._v("⚝")]):t._e(),t._v(" "),t.bom.child3?s("b-button",{staticClass:"fw-bold small py-0",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info(t.bom.child3.devil)}}},[t._v("⚝")]):t._e(),t._v(" "),t.bom.child4?s("b-button",{staticClass:"fw-bold small py-0",attrs:{variant:"info",size:"sm"},on:{click:function(e){return e.stopPropagation(),t.info(t.bom.child4.devil)}}},[t._v("⚝")]):t._e(),t._v(" "),t.bom.mag_pure!=t.bom.mag?s("span",[s("b-badge",{attrs:{variant:"success"}},[t._v(" "+t._s(t.$t("archetype.common"))+" ")]),t._v(" "),s("span",{staticClass:"small"},[t._v(" "+t._s(t.bom.showMagPure())+"  ")])],1):t._e(),t._v(" "),t.bom.mag>0?s("span",[s("b-badge",{attrs:{variant:"secondary"}},[t._v(" MAG ")]),t._v(" "),s("span",{staticClass:"small"},[t._v(t._s(t.bom.showMag())+" ")])],1):t._e()],1)],1):t._e()};L._withStripped=!0;var G=(0,y.Z)({props:["bom","usage"],methods:{listen:function(t){this.$emit("listen",t)},click:function(){"builder"==this.usage&&this.listen({name:"choose_bom",value:this.bom})},info:function(t){this.listen({name:"info",value:t})}}},L,[],!1,null,null,null);G.options.__file="src/js/components/devil_bom.vue";const H={components:{DevilBom:G.exports},props:["boms","usage"],methods:{listen:function(t){this.$emit("listen",t)}}};var I=(0,y.Z)(H,A,[],!1,null,null,null);I.options.__file="src/js/components/devil_bom_list.vue";const U={components:{"devil-bom-list":I.exports},props:["options","usage"],methods:{listen:function(t){this.$emit("listen",t)}}};var V=(0,y.Z)(U,Z,[],!1,null,null,null);V.options.__file="src/js/components/devil_bom_options.vue";const W=V.exports;var q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{size:"lg","hide-header":"","ok-only":"","ok-title":"CLOSE","ok-variant":"secondary","footer-class":"py-2",id:t.id}},[t.info_devil?s("div",[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-12"},[s("devil",{attrs:{devil:t.info_devil,usage:"info"}})],1),t._v(" "),s("div",{staticClass:"col-12 mt-2"},[s("table",{staticClass:"table table-sm table-bordered table-sm my-0"},[s("tbody",[s("tr",{staticClass:"text-center"},t._l(t.elements,(function(e,i){return s("th",{key:i,style:e.style},[t._v(t._s(t.$t(e.slug)))])})),0),t._v(" "),s("tr",{staticClass:"text-center"},t._l(t.info_devil.elements,(function(e,i){return s("td",{key:i,attrs:{width:"14%"}},[s("div",{staticClass:"py-1"},[s("span",{staticClass:"fw-bold",class:{"text-primary":"nu"==e||"rp"==e||"dr"==e,"text-danger":"wk"==e}},[t._v(t._s(e?t.$t("element."+e):"ー"))])])])})),0)])])]),t._v(" "),s("div",{staticClass:"col-12 mt-2"},[s("table",{staticClass:"table table-sm table-bordered my-0"},[s("tbody",[s("tr",[s("td",{staticClass:"text-center align-middle fw-bold",attrs:{width:"30%"}},[t._v(t._s(t.$t("message.common_skills")))]),t._v(" "),s("td",t._l(t.info_devil.skills,(function(e,i){return s("div",{key:i},[s("span",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:e.showHint(),expression:"skill.showHint()",modifiers:{hover:!0,top:!0}}],staticClass:"ps-4 small",class:{skill_only:0==i}},[t._v(t._s(e.showName()))])])})),0)]),t._v(" "),t._l(t.archetypes,(function(e,i){return s("tr",{key:i,style:e.bar_style},[s("td",{staticClass:"text-center align-middle"},[s("h4",[s("b-badge",{staticClass:"text-white",style:e.style},[t._v(t._s(t.$t(e.slug)))])],1)]),t._v(" "),s("td",[s("span",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.info_devil.skill4[i].showHint(),expression:"info_devil.skill4[index].showHint()",modifiers:{hover:!0,top:!0}}],staticClass:"ps-4 skill_lock small"},[t._v(t._s(t.info_devil.skill4[i].showName()))]),s("br"),t._v(" "),s("span",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.info_devil.skill5[i].showHint(),expression:"info_devil.skill5[index].showHint()",modifiers:{hover:!0,top:!0}}],staticClass:"ps-4 skill_possible small"},[t._v(t._s(t.info_devil.skill5[i].showName()))])])])}))],2)])])])]):t._e()])};q._withStripped=!0;const J={components:{devil:C},props:["id"],data:function(){return{archetypes:[{slug:"archetype.common",style:{"background-image":"linear-gradient(#4a545b , #8e989f)"},bar_style:{"background-image":"linear-gradient(to right, white , #e5eaee)"}},{slug:"archetype.aragami",style:{"background-image":"linear-gradient(#8c1030 , #be104b)"},bar_style:{"background-image":"linear-gradient(to right, white, #fea4ba)"}},{slug:"archetype.protector",style:{"background-image":"linear-gradient(#8a5c27 , #be8f30)"},bar_style:{"background-image":"linear-gradient(to right, white , #fee6b5)"}},{slug:"archetype.psychic",style:{"background-image":"linear-gradient(#7c3089 , #b63fbd)"},bar_style:{"background-image":"linear-gradient(to right, white, #fabdfe)"}},{slug:"archetype.elementalist",style:{"background-image":"linear-gradient(#1d7974 , #1db4b2)"},bar_style:{"background-image":"linear-gradient(to right, white, #adf9f8)"}}],elements:[{slug:"element.phys",style:{"background-color":"rgb(185, 185, 185)"}},{slug:"element.fire",style:{"background-color":"rgb(219, 120, 120)"}},{slug:"element.ice",style:{"background-color":"rgb(150, 220, 230)"}},{slug:"element.elec",style:{"background-color":"rgb(233, 230, 64)"}},{slug:"element.force",style:{"background-color":"rgb(133, 240, 156)"}},{slug:"element.light",style:{"background-color":"rgb(240, 236, 196)"}},{slug:"element.dark",style:{"background-color":"rgb(218, 142, 221)"}}]}},computed:{...f(["info_devil"])}};var K=(0,y.Z)(J,q,[],!1,null,null,null);K.options.__file="src/js/components/devil_info.vue";const Q=K.exports,X={components:{devil:C,"skill-list":M,"devil-list":z,"devil-bom-builder":D,"devil-bom-options":W,"devil-info":Q},data:function(){return{updated_at:"220114v2",modal_id:"modal_devil_info",builder_rarity_options:[],fusion_rarity_options:[],cache_lang_value:"ja",lang_options:[{text:"日本語",value:"ja"},{text:"繁體中文",value:"tw"},{text:"English",value:"en"}],cache_down_grade:"0",down_grade_options:[{text:"message.allow",value:"1"},{text:"message.deny",value:"0"}],cache_prevent_unload:"0",prevent_unload_options:[{text:"message.allow",value:"1"},{text:"message.deny",value:"0"}],race_id:0,skillType_id:0,index_main:0,index_main_last:0,index_fusion:0,index_fusion_last:0,input_keyword:"",keyword:"",keyword_timer:null,searchBar:!1,now:null,orbs:[{name:"ライト",icon:"public/images/theme/light.png",state:!1,days:[0,1,3,5,6]},{name:"ダーク",icon:"public/images/theme/dark.png",state:!1,days:[0,1,3,5,6]},{name:"ニュートラル",icon:"public/images/theme/natural.png",state:!1,days:[0,1,2,3,4,5,6]},{name:"ロー",icon:"public/images/theme/law.png",state:!1,days:[0,2,4,6]},{name:"カオス",icon:"public/images/theme/chaos.png",state:!1,days:[0,2,4,6]}]}},created:function(){let t=this;for(let t=1;t<=5;t++)for(let e=t;e<=5;e++){let s=t+"+"+e;this.builder_rarity_options.push({text:s,state:!0,active:!1}),this.fusion_rarity_options.push({text:s,state:!0,active:!1})}this.lang_value=window.location.hash?window.location.hash.substring(1):g.getCookie("lang_value"),this.down_grade=g.getCookie("allow_down_grade"),this.prevent_unload=g.getCookie("allow_prevent_unload");let e,s,i,l,o,a,n,r,c=new Date,u=c.getTime()+6e4*c.getTimezoneOffset();this.now=new Date(u+324e5),t.tick(),setInterval((()=>{t.tick()}),6e4),e=new URLSearchParams(window.location.search),s=e.get("route"),i=e.get("devil")?e.get("devil"):e.get("demon"),l=e.get("race"),l&&(o=this.races.filter((t=>Object.values(t.names).includes(l))),a=o.length>0?o[0]:null),i&&(n=(a?a.devils:this.devils).filter((t=>Object.values(t.names).includes(i))),r=n.length>0?n[0]:null),"fission"==s?r&&this.start_bom(r):"fusion"==s&&r&&this.fusion(r)},watch:{input_keyword:function(){let t=this;clearTimeout(this.keyword_timer),this.keyword_timer=setTimeout((function(){t.keyword=t.input_keyword}),1e3)}},computed:{...f(["resource","devils","races","skillTypes","skills","builder_target","info_devil","builder_options","current_bom","fusion_target","fusion_options"]),lang_value:{get:function(){return this.cache_lang_value},set:function(t){this.lang_options.map((t=>t.value)).includes(t)&&(this.cache_lang_value=t,g.setCookie("lang_value",t),this.$i18n.locale=t)}},down_grade:{get:function(){return this.cache_down_grade},set:function(t){this.down_grade_options.map((t=>t.value)).includes(t)&&(this.cache_down_grade=t,g.setCookie("allow_down_grade",t),this.update_builder_filter(),this.update_fusion_filter())}},prevent_unload:{get:function(){return this.cache_prevent_unload},set:function(t){this.prevent_unload_options.map((t=>t.value)).includes(t)&&(this.cache_prevent_unload=t,g.setCookie("allow_prevent_unload",t))}},devils_by_race:function(){return this.race_id>=this.races.length&&(this.race_id=this.races.length-1),this.races[this.race_id].devils},skills_by_type:function(){return this.skillType_id>=this.skillTypes.length&&(this.skillType_id=this.skillType.length-1),this.skillTypes[this.skillType_id].skills},filtered_devils:function(){var t=this.keyword.replace(/[!@#$%^&*()-=_+\[\]{}|\\]/g,""),e=[];return t&&(t=new RegExp(t,"i"),e=this.devils.filter((e=>Object.values(e.names).join().match(t)))),e},filtered_skills:function(){var t=this.keyword.replace(/[!@#$%^&*()-=_+\[\]{}|\\]/g,""),e=[];return t&&(t=new RegExp(t,"i"),e=this.skills.filter((e=>Object.values(e.names).join().match(t)))),e},filtered_builder_options:function(){let t=[],e=this.builder_rarity_options.filter((t=>t.active&&t.state)),s=this.down_grade;return this.builder_options.forEach((i=>{let l=i.boms.filter((t=>{let i=t.devil.rarity,[l,o]=[t.child1.devil.rarity,t.child2.devil.rarity].sort(((t,e)=>t-e));return("1"==s||i>=l&&i>=o)&&e.filter((t=>t.text==l+"+"+o)).length>0}));l.length&&t.push({name:i.name,boms:l})})),t},filtered_fusion_options:function(){let t=[],e=this.fusion_rarity_options.filter((t=>t.active&&t.state)),s=this.down_grade;return this.fusion_options.forEach((i=>{let l=[];i.formulas.forEach((t=>{let i=t.boms.filter((t=>{let i=t.devil.rarity,[l,o]=[t.child1.devil.rarity,t.child2.devil.rarity].sort(((t,e)=>t-e)),a=l+"+"+o;return("1"==s||i>=l&&i>=o)&&e.filter((t=>t.text==a)).length>0}));i.length&&l.push({name:t.name,boms:i})})),l.length&&t.push({devil:i.devil,formulas:l,active:!1})})),t}},methods:{listen:function(t){switch(t.name){case"info":this.show_devil_info(t.value);break;case"start_bom":this.start_bom(t.value);break;case"fusion":this.fusion(t.value);break;case"list_bom":this.list_bom(t.value);break;case"reset_bom":this.reset_bom(t.value);break;case"choose_bom":this.choose_bom(t.value)}},tick:function(){let t=this.now.getDay();this.orbs.forEach((e=>{e.state=e.days.includes(t)}))},show_devil_info:function(t){this.info_devil=t,this.$bvModal.show(this.modal_id)},searchFocus:function(){this.route("search",!0)},searchBlur:function(){this.keyword||this.route("last")},route:function(t,e){var s=this.index_main,i=this.index_fusion;switch(t){case"fusion.devil":default:s=0,i=0;break;case"fusion.fission":s=0,i=1;break;case"fusion.fusion":s=0,i=2;break;case"skill":s=1;break;case"customize":s=2;break;case"search":s=3;break;case"setting":s=4;break;case"last":s=this.index_main_last,i=this.index_fusion_last}e||(this.index_main_last=s,this.index_fusion_last=i),this.index_main=s,this.index_fusion=i},isRoute:function(t){var e=this.index_main,s=this.index_fusion;switch(t){case"home":case"fusion.devil":default:e=0,s=0;break;case"fusion.fission":e=0,s=1;break;case"fusion.fusion":e=0,s=2;break;case"skill":e=1;break;case"customize":e=2;break;case"search":e=3;break;case"setting":e=4}return e==this.index_main&&s==this.index_fusion},start_bom:function(t){this.update_current_bom(this.builder_target=t.bom()),this.route("fusion.fission")},list_bom:function(t){this.update_current_bom(this.current_bom==t?null:t)},choose_bom:function(t){this.current_bom.set(t),this.update_current_bom(null)},reset_bom:function(t){t.unset(),this.update_current_bom(null)},update_current_bom:function(t){this.current_bom=t,this.update_builder()},update_builder:function(){this.builder_options=this.current_bom?this.current_bom.devil.fission_formulas():[],this.update_builder_filter()},update_builder_filter:function(){let t={},e=this.down_grade;this.builder_options.forEach((s=>{s.boms.forEach((s=>{let i=s.devil.rarity,[l,o]=[s.child1.devil.rarity,s.child2.devil.rarity].sort(((t,e)=>t-e)),a=l+"+"+o;("1"==e||i>=l&&i>=o)&&(t[a]=a)}))})),this.builder_rarity_options.forEach((e=>{e.active=e.state=e.text in t}))},builder_rarity_option_click:function(t){let e=this.builder_rarity_options.filter((t=>t.active)),s=e.filter((t=>t.state));if(1==e.length)return!1;s.length==e.length?e.forEach((e=>{e.state=e==t})):1==s.length&&s[0]==t?e.forEach((t=>{t.state=!0})):t.state=!t.state},fusion:function(t){this.fusion_target=t,this.update_fusion(),this.route("fusion.fusion")},update_fusion:function(){this.fusion_options=this.fusion_target?this.fusion_target.fusion_formulas():[],this.update_fusion_filter()},update_fusion_filter:function(){let t={},e=this.down_grade;this.fusion_options.forEach((s=>{s.formulas.forEach((s=>{s.boms.forEach((s=>{let i=s.devil.rarity,[l,o]=[s.child1.devil.rarity,s.child2.devil.rarity].sort(((t,e)=>t-e)),a=l+"+"+o;("1"==e||i>=l&&i>=o)&&(t[a]=a)}))}))})),this.fusion_rarity_options.forEach((e=>{e.active=e.state=e.text in t}))},fusion_rarity_option_click:function(t){let e=this.fusion_rarity_options.filter((t=>t.active)),s=e.filter((t=>t.state));if(1==e.length)return!1;s.length==e.length?e.forEach((e=>{e.state=e==t})):1==s.length&&s[0]==t?e.forEach((t=>{t.state=!0})):t.state=!t.state},builder_auto_costdown:function(t,e){this.auto_costdown(this.builder_target,t,e),this.update_current_bom(null)},auto_costdown:function(t,e,s){if(t&&t.devil.rarity>e){let i=[];t.devil.fission_formulas().forEach((t=>{i=i.concat(t.boms)})),i=i.filter((t=>t.auto)),i.sort(((t,i)=>(s?t.getCost(e):t.getCostPure(e))-(s?i.getCost(e):i.getCostPure(e)))),i.length>0&&t.set(i[0]),1==s?(type1=0,type2=0,this.auto_costdown(t.child1,e,type1),this.auto_costdown(t.child2,e,type2),this.auto_costdown(t.child3,e,type2),this.auto_costdown(t.child4,e,type2)):(this.auto_costdown(t.child1,e,s),this.auto_costdown(t.child2,e,s),this.auto_costdown(t.child3,e,s),this.auto_costdown(t.child4,e,s))}}}},Y=X;var tt=(0,y.Z)(Y,b,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ms-1"},[e("a",{attrs:{href:"https://github.com/oceanxdds/dx2_fusion",target:"_blank"}},[e("img",{attrs:{src:"public/images/theme/GitHub-Mark-32px.png",alt:"GitHub"}})])])}],!1,null,null,null);tt.options.__file="src/js/app.vue";const et=tt.exports;i.default.use(l.ZPm),i.default.config.productionTip=!1,n.defaultLocale="ja",new i.default({el:"#app",i18n:n,store:p,render:t=>t(et)})}},s={};function i(t){var l=s[t];if(void 0!==l)return l.exports;var o=s[t]={exports:{}};return e[t](o,o.exports,i),o.exports}i.m=e,t=[],i.O=(e,s,l,o)=>{if(!s){var a=1/0;for(u=0;u<t.length;u++){for(var[s,l,o]=t[u],n=!0,r=0;r<s.length;r++)(!1&o||a>=o)&&Object.keys(i.O).every((t=>i.O[t](s[r])))?s.splice(r--,1):(n=!1,o<a&&(a=o));if(n){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[s,l,o]},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var l,o,[a,n,r]=s,c=0;if(a.some((e=>0!==t[e]))){for(l in n)i.o(n,l)&&(i.m[l]=n[l]);if(r)var u=r(i)}for(e&&e(s);c<a.length;c++)o=a[c],i.o(t,o)&&t[o]&&t[o][0](),t[a[c]]=0;return i.O(u)},s=self.webpackChunkdx2_fusion=self.webpackChunkdx2_fusion||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var l=i.O(void 0,[736,126],(()=>i(737)));l=i.O(l)})();